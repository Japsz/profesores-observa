<!DOCTYPE html>
<html>
<head>
    <title>Minimum Setup</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/calendar.css">
</head>
<body>
<div class="page-header">

    <div class="pull-right form-inline">
        <div class="btn-group">
            <button class="btn btn-primary" data-calendar-nav="prev"><< Prev</button>
            <button class="btn btn-default" data-calendar-nav="today">Today</button>
            <button class="btn btn-primary" data-calendar-nav="next">Next >></button>
        </div>
        <div class="btn-group">
            <button class="btn btn-warning" data-calendar-view="year">Year</button>
            <button class="btn btn-warning active" data-calendar-view="month">Month</button>
            <button class="btn btn-warning" data-calendar-view="week">Week</button>
            <button class="btn btn-warning" data-calendar-view="day">Day</button>
        </div>
    </div>

    <h3></h3>
    <small>To see example with events navigate to march 2013</small>
</div>

<div class="row">
    <div class="col-md-9">
        <div id="calendar"></div>
    </div>
    <div class="col-md-3">
        <div class="row">
            <select id="first_day" class="form-control">
                <option value="" selected="selected">First day of week language-dependant</option>
                <option value="2">First day of week is Sunday</option>
                <option value="1">First day of week is Monday</option>
            </select>
            <select id="language" class="form-control">
                <option value="">Select Language (default: en-US)</option>
                <option value="nl-NL">Dutch</option>
                <option value="fr-FR">French</option>
                <option value="de-DE">German</option>
                <option value="el-GR">Greek</option>
                <option value="hu-HU">Hungarian</option>
                <option value="it-IT">Italian</option>
                <option value="pl-PL">Polish</option>
                <option value="pt-BR">Portuguese (Brazil)</option>
                <option value="ro-RO">Romania</option>
                <option value="es-MX" selected>Spanish (Mexico)</option>
                <option value="es-ES">Spanish (Spain)</option>
                <option value="ru-RU">Russian</option>
                <option value="sv-SE">Swedish</option>
                <option value="ko-KR">Korean</option>
                <option value="zh-TW">繁體中文</option>
            </select>
            <label class="checkbox">
                <input type="checkbox" value="#events-modal" id="events-in-modal"> Open events in modal window
            </label>
        </div>

        <h4>Events</h4>
        <small>This list is populated with events dynamically</small>
        <ul id="eventlist" class="nav nav-list"></ul>
    </div>
</div>

<div class="clearfix"></div>
<br><br>
<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div class="modal fade" id="events-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title">Event</h3>
            </div>
            <div class="modal-body" style="height: 400px">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="/js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.js"></script>
<script type="text/javascript" src="/js/vendor/underscore-min.js"></script>
<script type="text/javascript" src="/js/calendar.js"></script>
<script type="text/javascript" src="/js/language/es-MX.js"></script>
<script type="text/javascript" src="/js/jstz.min.js"></script>
<script type="text/javascript">
    $(function() {
        var options = {
            tmpl_path: '/tmpls/',
            language: "es-MX",
            tmpl_cache: false,
            events_source: function(){
                return [
                    {
                        "id": "293",
                        "title": "This is warning class event with very long title to check how it fits to evet in day view",
                        "url": "http://www.example.com/",
                        "class": "event-warning",
                        "start": new Date().getTime().toString(),
                        "end":   (new Date().getTime() + 1000*60*60).toString()
                    },
                    {
                        "id": "256",
                        "title": "Event that ends on timeline",
                        "url": "http://www.example.com/",
                        "class": "event-warning",
                        "start": "1363155300000",
                        "end":   "1363227600000"
                    },
                    {
                        "id": "276",
                        "title": "Short day event",
                        "url": "http://www.example.com/",
                        "class": "event-success",
                        "start": "1363245600000",
                        "end":   "1363252200000"
                    },
                    {
                        "id": "294",
                        "title": "This is information class ",
                        "url": "http://www.example.com/",
                        "class": "event-info",
                        "start": "1363111200000",
                        "end":   "1363284086400"
                    },
                    {
                        "id": "297",
                        "title": "This is success event",
                        "url": "http://www.example.com/",
                        "class": "event-success",
                        "start": "1363234500000",
                        "end":   "1363284062400"
                    },
                    {
                        "id": "54",
                        "title": "This is simple event",
                        "url": "http://www.example.com/",
                        "class": "",
                        "start": "1363712400000",
                        "end":   "1363716086400"
                    },
                    {
                        "id": "532",
                        "title": "This is inverse event",
                        "url": "http://www.example.com/",
                        "class": "event-inverse",
                        "start": "1364407200000",
                        "end":   "1364493686400"
                    },
                    {
                        "id": "548",
                        "title": "This is special event",
                        "url": "http://www.example.com/",
                        "class": "event-special",
                        "start": "1363197600000",
                        "end":   "1363629686400"
                    },
                    {
                        "id": "295",
                        "title": "Event 3",
                        "url": "http://www.example.com/",
                        "class": "event-important",
                        "start": "1364320800000",
                        "end":   "1364407286400"
                    }
                ];
            },
            view: 'month',
            onAfterEventsLoad: function(events) {
                if(!events) {
                    return;
                }
                var list = $('#eventlist');
                list.html('');

                $.each(events, function(key, val) {
                    list.append('<li><a href="' + val.url + '">' + val.title + '</a></li>');
                });
            },
            onAfterViewLoad: function(view) {
                $('.page-header h3').text(this.getTitle());
                $('.btn-group button').removeClass('active');
                $('button[data-calendar-view="' + view + '"]').addClass('active');
            },
            classes: {
                months: {
                    general: 'label'
                }
            }
        };
        var calendar = $('#calendar').calendar(options);

        $('.btn-group button[data-calendar-nav]').each(function() {
            var $this = $(this);
            $this.click(function() {
                calendar.navigate($this.data('calendar-nav'));
            });
        });

        $('.btn-group button[data-calendar-view]').each(function() {
            var $this = $(this);
            $this.click(function() {
                calendar.view($this.data('calendar-view'));
            });
        });
        $('#first_day').change(function(){
            var value = $(this).val();
            value = value.length ? parseInt(value) : null;
            calendar.setOptions({first_day: value});
            calendar.view();
        });
        $('#language').change(function(){
            calendar.setLanguage($(this).val());
            calendar.view();
        });

        $('#events-in-modal').change(function(){
            var val = $(this).is(':checked') ? $(this).val() : null;
            calendar.setOptions({modal: val});
        });
        $('#events-modal .modal-header, #events-modal .modal-footer').click(function(e){
            //e.preventDefault();
            //e.stopPropagation();
        });
    });
</script>
</body>
</html>

